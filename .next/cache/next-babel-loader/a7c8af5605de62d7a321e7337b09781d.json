{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\tjmak\\\\projects\\\\simfy_interview\\\\src\\\\components\\\\nav.component.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\n/** @jsx jsx */\nimport { jsx } from 'theme-ui';\nimport { useEffect, useState } from 'react';\nimport { accountService } from '../_services/index.service';\nimport { Layout, Menu } from 'antd';\nimport { Role } from '../_helpers/role';\nimport { useRouter } from 'next/router';\nvar Header = Layout.Header;\n\nvar Nav = function Nav() {\n  _s();\n\n  var _useState = useState({}),\n      user = _useState[0],\n      setUser = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      Current = _useState2[0],\n      setCurrent = _useState2[1];\n\n  var router = useRouter();\n  useEffect(function () {\n    console.log(\"useEffect\");\n    var subscription = accountService.user.subscribe(function (x) {\n      return setUser(x);\n    });\n  }, []);\n\n  var handleMenuClick = function handleMenuClick(_ref) {\n    var key = _ref.key;\n    console.log(\"Menu\");\n\n    switch (key) {\n      case \"logout\":\n        setCurrent(null);\n        accountService.logout(router);\n        break;\n\n      case \"login\":\n        router.push(\"/account/login\");\n        break;\n\n      case \"register\":\n        router.push(\"/account/register\");\n        break;\n\n      case \"home\":\n        router.push(\"/\");\n        break;\n\n      default:\n        router.push(\"/\".concat(key));\n        break;\n    }\n  };\n\n  return jsx(Header, {\n    style: {\n      position: 'fixed',\n      zIndex: 1,\n      width: '100%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, jsx(\"div\", {\n    className: \"logo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }), jsx(Menu, {\n    onClick: handleMenuClick,\n    theme: \"dark\",\n    mode: \"horizontal\",\n    defaultSelectedKeys: ['2'],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, jsx(Menu.Item, {\n    key: \"home\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, \"Home\"), !user ? jsx(React.Fragment, null, jsx(Menu.Item, {\n    key: \"register\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 29\n    }\n  }, \"Register\"), jsx(Menu.Item, {\n    key: \"login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 29\n    }\n  }, \"Login\")) : jsx(React.Fragment, null, jsx(Menu.Item, {\n    key: \"logout\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 29\n    }\n  }, \"Logout\")), user && user.role === Role.Admin && jsx(Menu.Item, {\n    key: \"admin\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, \"Admin\"), user && jsx(Menu.Item, {\n    key: \"profile\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 26\n    }\n  }, \"Profile\")));\n};\n\n_s(Nav, \"FSRF8DfoM5Y2lNE65/8B4H/KXEE=\", false, function () {\n  return [useRouter];\n});\n\n_c = Nav;\nexport default Nav;\n\nvar _c;\n\n$RefreshReg$(_c, \"Nav\");","map":{"version":3,"sources":["C:/Users/tjmak/projects/simfy_interview/src/components/nav.component.tsx"],"names":["jsx","useEffect","useState","accountService","Layout","Menu","Role","useRouter","Header","Nav","user","setUser","Current","setCurrent","router","console","log","subscription","subscribe","x","handleMenuClick","key","logout","push","position","zIndex","width","role","Admin"],"mappings":"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","sourcesContent":["/** @jsx jsx */\nimport { jsx } from 'theme-ui'\nimport Link from 'next/link'\nimport { FC, useEffect, useState } from 'react';\nimport { accountService } from '../_services/index.service';\nimport { Layout, Menu } from 'antd';\nimport { Role } from '../_helpers/role';\nimport { IUser } from '../_models/account.models';\nimport { useRouter } from 'next/router';\n\nconst { Header } = Layout;\n\n\nconst Nav: FC = () => {\n    const [user, setUser] = useState<IUser>({} as IUser);\n    const [Current, setCurrent] = useState(\"\");\n    const router = useRouter();\n\n    useEffect(() => {\n        console.log(\"useEffect\");\n        const subscription = accountService.user.subscribe(x => setUser(x));\n    }, []);\n\n    const handleMenuClick = ({ key }) => {\n        console.log(\"Menu\");\n\n        switch (key) {\n            case \"logout\":\n                setCurrent(null);\n                accountService.logout(router);\n                break;\n            case \"login\":\n                router.push(\"/account/login\")\n                break;\n            case \"register\":\n                router.push(\"/account/register\")\n                break;\n            case \"home\":\n                router.push(\"/\")\n                break;\n            default:\n                router.push(`/${key}`);\n                break;\n        }\n    }\n\n    return (\n        <Header style={{ position: 'fixed', zIndex: 1, width: '100%' }}>\n            <div className=\"logo\" />\n            <Menu onClick={handleMenuClick} theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['2']}>\n                <Menu.Item key=\"home\">Home</Menu.Item>\n                {\n                    (!user) ?\n                        <>\n                            <Menu.Item key=\"register\">Register</Menu.Item>\n                            <Menu.Item key=\"login\">Login</Menu.Item>\n                        </> :\n                        <>\n                            <Menu.Item key=\"logout\">Logout</Menu.Item>\n                        </>\n                }\n                {user &&\n                    user.role === Role.Admin &&\n                    <Menu.Item key=\"admin\">Admin</Menu.Item>\n                }\n                {user && <Menu.Item key=\"profile\">Profile</Menu.Item>}\n            </Menu>\n\n        </Header>\n    )\n}\n\nexport default Nav\n"]},"metadata":{},"sourceType":"module"}